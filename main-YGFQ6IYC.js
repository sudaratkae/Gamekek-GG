import{$ as et,A as f,B as C,C as O,D as y,E as w,F as be,G as P,H as je,I as V,J as ue,K as Ce,L as B,M as x,N as Y,O as se,P as me,Q as M,R as Ke,S as J,T as z,U as I,V as Me,W as ve,X as S,Y as Qe,Z as Xe,_ as Ze,a as he,aa as j,b as $e,ba as A,c as ce,ca as D,d as qe,da as T,e as Ye,ea as K,f as ze,fa as tt,g as U,ga as Q,h as $,ha as X,i as G,ia as de,j as Je,ja as ie,k as E,ka as re,l as _,la as xe,m as N,ma as ge,n as l,na as pe,o as h,oa as nt,p as b,pa as oe,q as g,qa as L,r as s,ra as Z,s as i,sa as F,t as n,ta as it,u as p,ua as rt,v,va as ee,w as m,wa as Pe,x as d,xa as ot,y as q,z as o}from"./chunk-S2CXB4S2.js";var Oe=class a{title="GameKek";static \u0275fac=function(e){return new(e||a)};static \u0275cmp=b({type:a,selectors:[["app-root"]],decls:1,vars:0,template:function(e,r){e&1&&p(0,"router-outlet")},dependencies:[M,ve,I],encapsulation:2})};var W=class a{constructor(t){this.http=t}base=`${F.apiUrl}/auth`;register(t){return this.http.post(`${this.base}/register`,t)}login(t,e){return this.http.post(`${this.base}/login`,{email:t,password:e}).pipe(ze(r=>{r?.token&&(localStorage.setItem("token",r.token),localStorage.setItem("role",r.role))}))}loginAdmin(t,e){return this.http.post(`${this.base}/login`,{email:t,password:e}).pipe(ze(r=>{if(r?.token)if(r.user?.role==="admin")localStorage.setItem("token",r.token),localStorage.setItem("role",r.user.role);else throw new Error("\u0E04\u0E38\u0E13\u0E44\u0E21\u0E48\u0E21\u0E35\u0E2A\u0E34\u0E17\u0E18\u0E34\u0E4C\u0E40\u0E02\u0E49\u0E32\u0E16\u0E36\u0E07\u0E23\u0E30\u0E1A\u0E1A\u0E41\u0E2D\u0E14\u0E21\u0E34\u0E19")}),Ye(r=>{throw console.error("Login error:",r),r}))}logout(){localStorage.removeItem("token"),localStorage.removeItem("role")}getToken(){return localStorage.getItem("token")}getRole(){return localStorage.getItem("role")}isLoggedIn(){return!!this.getToken()}static \u0275fac=function(e){return new(e||a)($(z))};static \u0275prov=U({token:a,factory:a.\u0275fac,providedIn:"root"})};function lt(a,t){a&1&&(i(0,"div",18),o(1," Username is required "),n())}function ct(a,t){a&1&&(i(0,"div",18),o(1," Valid email is required "),n())}function ut(a,t){a&1&&(i(0,"div",18),o(1," Password must be at least 6 characters "),n())}function st(a,t){a&1&&(i(0,"div",18),o(1," Passwords do not match "),n())}function mt(a,t){if(a&1&&(i(0,"div",18),o(1),n()),a&2){let e=d();l(),f(e.error)}}function dt(a,t){if(a&1){let e=v();i(0,"div",19)(1,"p"),o(2,"\u0E2A\u0E21\u0E31\u0E04\u0E23\u0E2A\u0E21\u0E32\u0E0A\u0E34\u0E01\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08!"),n(),i(3,"button",14),m("click",function(){E(e);let c=d();return _(c.goToLogin())}),o(4,"\u0E44\u0E1B\u0E2B\u0E19\u0E49\u0E32\u0E40\u0E02\u0E49\u0E32\u0E2A\u0E39\u0E48\u0E23\u0E30\u0E1A\u0E1A"),n()()}}var ye=class a{constructor(t,e,r){this.fb=t;this.auth=e;this.router=r}form;error="";fileToUpload=null;successPopup=!1;previewImage;ngOnInit(){this.form=this.fb.group({username:["",D.required],email:["",[D.required,D.email]],password:["",[D.required,D.minLength(6)]],confirmPassword:["",D.required]},{validators:this.passwordMatchValidator})}passwordMatchValidator(t){let e=t.get("password")?.value,r=t.get("confirmPassword")?.value;return e===r?null:{mismatch:!0}}previewUrl=null;onFileChange(t){let e=t.target.files[0];if(e){this.fileToUpload=e;let r=new FileReader;r.onload=()=>{this.previewImage=r.result},r.readAsDataURL(e)}}submit(){if(this.form.invalid){this.form.markAllAsTouched();return}let t=new FormData;t.append("username",this.form.value.username),t.append("email",this.form.value.email),t.append("password",this.form.value.password),this.fileToUpload&&t.append("profile_image",this.fileToUpload),this.auth.register(t).subscribe({next:()=>this.successPopup=!0,error:e=>this.error=e.error?.message||"Register failed"})}goToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||a)(h(oe),h(W),h(S))};static \u0275cmp=b({type:a,selectors:[["app-register"]],decls:40,vars:8,consts:[[1,"register-wrapper"],[1,"register-card"],[1,"register-left"],[3,"ngSubmit","formGroup"],[1,"profile-image-container"],["type","file","id","profileImage",3,"change"],["for","profileImage"],[1,"profile-image",3,"src"],["formControlName","username"],["class","error",4,"ngIf"],["formControlName","email","type","email"],["formControlName","password","type","password"],["formControlName","confirmPassword","type","password"],["type","submit"],[3,"click"],[1,"register-right"],["src","assets/logo2.png","alt","Logo"],["class","popup",4,"ngIf"],[1,"error"],[1,"popup"]],template:function(e,r){if(e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),o(4,"\u0E2A\u0E21\u0E31\u0E04\u0E23\u0E2A\u0E21\u0E32\u0E0A\u0E34\u0E01"),n(),i(5,"form",3),m("ngSubmit",function(){return r.submit()}),i(6,"div",4)(7,"input",5),m("change",function(u){return r.onFileChange(u)}),n(),i(8,"label",6),p(9,"img",7),n()(),i(10,"div")(11,"label"),o(12,"Username"),n(),p(13,"input",8),g(14,lt,2,0,"div",9),n(),i(15,"div")(16,"label"),o(17,"Email"),n(),p(18,"input",10),g(19,ct,2,0,"div",9),n(),i(20,"div")(21,"label"),o(22,"Password"),n(),p(23,"input",11),g(24,ut,2,0,"div",9),n(),i(25,"div")(26,"label"),o(27,"Confirm Password"),n(),p(28,"input",12),g(29,st,2,0,"div",9),n(),g(30,mt,2,1,"div",9),i(31,"button",13),o(32,"\u0E2A\u0E21\u0E31\u0E04\u0E23\u0E2A\u0E21\u0E32\u0E0A\u0E34\u0E01"),n()(),i(33,"p"),o(34,"\u0E21\u0E35\u0E1A\u0E31\u0E0D\u0E0A\u0E35\u0E41\u0E25\u0E49\u0E27? "),i(35,"button",14),m("click",function(){return r.goToLogin()}),o(36,"\u0E40\u0E02\u0E49\u0E32\u0E2A\u0E39\u0E48\u0E23\u0E30\u0E1A\u0E1A"),n()()(),i(37,"div",15),p(38,"img",16),n()(),g(39,dt,5,0,"div",17),n()),e&2){let c,u,_e,He;l(5),s("formGroup",r.form),l(4),s("src",r.previewImage||"assets/default-avatar.png",N),l(5),s("ngIf",((c=r.form.get("username"))==null?null:c.touched)&&((c=r.form.get("username"))==null?null:c.invalid)),l(5),s("ngIf",((u=r.form.get("email"))==null?null:u.touched)&&((u=r.form.get("email"))==null?null:u.invalid)),l(5),s("ngIf",((_e=r.form.get("password"))==null?null:_e.touched)&&((_e=r.form.get("password"))==null?null:_e.invalid)),l(5),s("ngIf",r.form.hasError("mismatch")&&((He=r.form.get("confirmPassword"))==null?null:He.touched)),l(),s("ngIf",r.error),l(9),s("ngIf",r.successPopup)}},dependencies:[M,x,Z,X,A,T,K,ie,re,I],styles:['@charset "UTF-8";.register-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-image:url(/assets/bg.png);background-size:cover;background-position:center;background-repeat:no-repeat;font-family:Thasadith,Fredericka the Great,sans-serif}.register-card[_ngcontent-%COMP%]{display:flex;width:800px;min-height:550px;border-radius:12px;width:1000px;overflow:hidden;box-shadow:0 6px 20px #0009}.register-card[_ngcontent-%COMP%]   .register-left[_ngcontent-%COMP%]{flex:1;padding:2rem;background-color:#b22222;display:flex;flex-direction:column;justify-content:center;color:#fff;font-size:1.1rem}.register-card[_ngcontent-%COMP%]   .register-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;font-size:2rem}.register-card[_ngcontent-%COMP%]   .register-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%;max-width:350px;margin:0 auto}.register-card[_ngcontent-%COMP%]   .register-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .profile-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:1.5rem}.register-card[_ngcontent-%COMP%]   .register-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .profile-image-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;position:relative}.register-card[_ngcontent-%COMP%]   .register-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .profile-image-container[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;object-fit:cover;border:3px solid #fff;box-shadow:0 0 10px #0000004d;transition:.3s}.register-card[_ngcontent-%COMP%]   .register-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .profile-image-container[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]:hover{opacity:.8}.register-card[_ngcontent-%COMP%]   .register-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.register-card[_ngcontent-%COMP%]   .register-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:700}.register-card[_ngcontent-%COMP%]   .register-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;margin-bottom:1rem;border:2px solid #ff4d4d;border-radius:6px;background-color:#b22222;color:#fff;font-size:1rem}.register-card[_ngcontent-%COMP%]   .register-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#ff1a1a;box-shadow:0 0 5px #ff1a1a}.register-card[_ngcontent-%COMP%]   .register-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{width:100%;padding:.7rem;margin-top:1rem;border:none;border-radius:6px;background-color:#7e6868;color:#06be10;cursor:pointer;font-weight:700;transition:background-color .2s}.register-card[_ngcontent-%COMP%]   .register-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background-color:#000}.register-card[_ngcontent-%COMP%]   .register-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#fcc;font-size:.85rem;margin-bottom:.5rem}.register-card[_ngcontent-%COMP%]   .register-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-top:1rem;font-size:1rem}.register-card[_ngcontent-%COMP%]   .register-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#4dff56;text-decoration:underline;border:none;background:none;cursor:pointer}.register-card[_ngcontent-%COMP%]   .register-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#1aff53}.register-card[_ngcontent-%COMP%]   .register-right[_ngcontent-%COMP%]{flex:1;overflow:hidden}.register-card[_ngcontent-%COMP%]   .register-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.popup[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;padding:2rem;border-radius:12px;text-align:center;box-shadow:0 6px 20px #00000080}.popup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-bottom:1rem;font-size:1.2rem}.popup[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#b22222;color:#fff;border:none;padding:.5rem 1rem;border-radius:6px;cursor:pointer}.popup[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#000}']})};function gt(a,t){a&1&&(i(0,"div",11),o(1," \u0E01\u0E23\u0E38\u0E13\u0E32\u0E01\u0E23\u0E2D\u0E01\u0E2D\u0E35\u0E40\u0E21\u0E25\u0E17\u0E35\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07 "),n())}function pt(a,t){a&1&&(i(0,"div",11),o(1," \u0E01\u0E23\u0E38\u0E13\u0E32\u0E01\u0E23\u0E2D\u0E01\u0E23\u0E2B\u0E31\u0E2A\u0E1C\u0E48\u0E32\u0E19 "),n())}function ft(a,t){if(a&1&&(i(0,"div",11),o(1),n()),a&2){let e=d();l(),f(e.error)}}var we=class a{constructor(t,e,r){this.fb=t;this.auth=e;this.router=r}form;error="";ngOnInit(){let t=localStorage.getItem("token"),e=localStorage.getItem("role");if(t){e==="admin"?this.router.navigate(["/admin/dashboard"]):this.router.navigate(["/store-main"]);return}this.form=this.fb.group({email:["",[D.required,D.email]],password:["",D.required]})}submit(){if(this.form.invalid){this.form.markAllAsTouched();return}this.auth.login(this.form.value.email,this.form.value.password).subscribe({next:()=>this.router.navigate(["/profile"]),error:t=>this.error=t.error?.message||"Login failed"})}goToRegister(){this.router.navigate(["/register"])}static \u0275fac=function(e){return new(e||a)(h(oe),h(W),h(S))};static \u0275cmp=b({type:a,selectors:[["app-login"]],decls:27,vars:4,consts:[[1,"login-wrapper"],[1,"login-card"],[1,"login-left"],[3,"ngSubmit","formGroup"],["formControlName","email","type","email"],["class","error",4,"ngIf"],["formControlName","password","type","password"],["type","submit"],[3,"click"],[1,"login-right"],["src","assets/logo.png","alt","Logo"],[1,"error"]],template:function(e,r){if(e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),o(4,"Welcome to Gamekek"),n(),i(5,"h3"),o(6,"Login your account"),n(),i(7,"form",3),m("ngSubmit",function(){return r.submit()}),i(8,"div")(9,"label"),o(10,"Email"),n(),p(11,"input",4),g(12,gt,2,0,"div",5),n(),i(13,"div")(14,"label"),o(15,"Password"),n(),p(16,"input",6),g(17,pt,2,0,"div",5),n(),g(18,ft,2,1,"div",5),i(19,"button",7),o(20,"\u0E40\u0E02\u0E49\u0E32\u0E2A\u0E39\u0E48\u0E23\u0E30\u0E1A\u0E1A"),n()(),i(21,"p"),o(22,"\u0E22\u0E31\u0E07\u0E44\u0E21\u0E48\u0E21\u0E35\u0E1A\u0E31\u0E0D\u0E0A\u0E35? "),i(23,"button",8),m("click",function(){return r.goToRegister()}),o(24,"\u0E2A\u0E21\u0E31\u0E04\u0E23\u0E2A\u0E21\u0E32\u0E0A\u0E34\u0E01"),n()()(),i(25,"div",9),p(26,"img",10),n()()()),e&2){let c,u;l(7),s("formGroup",r.form),l(5),s("ngIf",((c=r.form.get("email"))==null?null:c.touched)&&((c=r.form.get("email"))==null?null:c.invalid)),l(5),s("ngIf",((u=r.form.get("password"))==null?null:u.touched)&&((u=r.form.get("password"))==null?null:u.invalid)),l(),s("ngIf",r.error)}},dependencies:[M,x,Z,X,A,T,K,ie,re,I],styles:['@charset "UTF-8";.login-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#1a1a1a;font-family:"Playfair Display ",sans-serif;background-image:url(/assets/bg.png);background-size:cover;background-position:center;background-repeat:no-repeat;box-shadow:0 6px 20px #0009}.login-card[_ngcontent-%COMP%]{display:flex;width:800px;min-height:450px;border-radius:12px;width:1000px;overflow:hidden;box-shadow:0 6px 20px #0009}.login-card[_ngcontent-%COMP%]   .login-left[_ngcontent-%COMP%]{flex:1;padding:2rem;background-color:#b22222;display:flex;flex-direction:column;justify-content:center;color:#fff;font-size:1.1rem}.login-card[_ngcontent-%COMP%]   .login-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;color:#fff;font-size:2rem}.login-card[_ngcontent-%COMP%]   .login-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%;max-width:350px;margin:0 auto}.login-card[_ngcontent-%COMP%]   .login-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:700}.login-card[_ngcontent-%COMP%]   .login-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;margin-bottom:1rem;border:2px solid #ff4d4d;border-radius:6px;background-color:#b22222;color:#fff;font-size:1rem}.login-card[_ngcontent-%COMP%]   .login-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#ff1a1a;box-shadow:0 0 5px #ff1a1a}.login-card[_ngcontent-%COMP%]   .login-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{width:100%;padding:.7rem;margin-top:1rem;border:none;border-radius:6px;background-color:#7e6868;color:#06be10;cursor:pointer;font-weight:700;transition:background-color .2s}.login-card[_ngcontent-%COMP%]   .login-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background-color:#000}.login-card[_ngcontent-%COMP%]   .login-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#c7c7c7;font-size:.85rem;margin-bottom:.5rem}.login-card[_ngcontent-%COMP%]   .login-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-top:1rem;font-size:1rem}.login-card[_ngcontent-%COMP%]   .login-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#4dff56;text-decoration:underline;border:none;background:none;cursor:pointer}.login-card[_ngcontent-%COMP%]   .login-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#1aff53}.login-card[_ngcontent-%COMP%]   .login-right[_ngcontent-%COMP%]{flex:1;overflow:hidden}.login-card[_ngcontent-%COMP%]   .login-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}']})};function Et(a,t){if(a&1){let e=v();i(0,"button",35),m("click",function(){let c=E(e).$implicit,u=d(2);return _(u.selectAmount(c))}),o(1),n()}if(a&2){let e=t.$implicit,r=d(2);q("active",r.selectedAmount===e&&!r.customAmountVisible),l(),C(" ",e===0?"\u0E01\u0E33\u0E2B\u0E19\u0E14\u0E40\u0E2D\u0E07":"$"+e," ")}}function _t(a,t){if(a&1){let e=v();i(0,"div",36)(1,"input",37),w("ngModelChange",function(c){E(e);let u=d(2);return y(u.selectedAmount,c)||(u.selectedAmount=c),_(c)}),n()()}if(a&2){let e=d(2);l(),O("ngModel",e.selectedAmount)}}function ht(a,t){if(a&1&&(i(0,"li",38)(1,"span"),o(2),P(3,"date"),n(),i(4,"span"),o(5),n(),i(6,"span"),o(7),P(8,"number"),n()()),a&2){let e=t.$implicit;l(2),f(V(3,3,e.date,"short")),l(3),f(e.description),l(2),C("",V(8,6,e.amount,"1.2-2"),"\u0E3F")}}function bt(a,t){if(a&1){let e=v();i(0,"div",13)(1,"h1",14),o(2,"Profile"),n(),i(3,"div",15)(4,"div",16)(5,"div",17)(6,"h3"),o(7,"\u0E22\u0E2D\u0E14\u0E40\u0E07\u0E34\u0E19\u0E04\u0E07\u0E40\u0E2B\u0E25\u0E37\u0E2D"),n(),i(8,"p",18),o(9),P(10,"number"),n()(),i(11,"div",19)(12,"h3"),o(13,"\u0E40\u0E15\u0E34\u0E21\u0E40\u0E07\u0E34\u0E19"),n(),i(14,"div",20),g(15,Et,2,3,"button",21),n(),g(16,_t,2,1,"div",22),i(17,"div",23)(18,"span",24),o(19),P(20,"number"),n(),i(21,"button",25),m("click",function(){E(e);let c=d();return _(c.confirmTopUp())}),o(22,"\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19"),n()()(),i(23,"div",26)(24,"h3"),o(25,"\u0E1B\u0E23\u0E30\u0E27\u0E31\u0E15\u0E34\u0E01\u0E32\u0E23\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"),n(),i(26,"div",27)(27,"span"),o(28,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48"),n(),i(29,"span"),o(30,"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"),n(),i(31,"span"),o(32,"\u0E08\u0E33\u0E19\u0E27\u0E19"),n()(),i(33,"ul",28),g(34,ht,9,9,"li",29),n()()(),i(35,"div",30)(36,"div",31),p(37,"img",32),i(38,"h3",33),o(39),n(),i(40,"button",34),m("click",function(){E(e);let c=d();return _(c.openEditPopup())}),o(41,"\u0E41\u0E01\u0E49\u0E44\u0E02\u0E42\u0E1B\u0E23\u0E44\u0E1F\u0E25\u0E4C"),n()()()()()}if(a&2){let e=d();l(9),C("",V(10,7,e.walletBalance,"1.2-2"),"\u0E3F"),l(6),s("ngForOf",e.presetAmounts),l(),s("ngIf",e.customAmountVisible),l(3),C("",V(20,10,e.selectedAmount,"1.2-2"),"\u0E3F"),l(15),s("ngForOf",e.transactionHistory),l(3),s("src",e.currentUser.profile_image||"assets/default-avatar.png",N),l(2),f(e.currentUser.username)}}var Se=class a{constructor(t,e,r){this.userService=t;this.walletService=e;this.fb=r;this.editForm=this.fb.group({username:["",D.required],profile_image:[null]})}currentUser=null;editForm;editPopup=!1;previewImage=null;selectedFile;walletBalance=0;transactionHistory=[];presetAmounts=[10,50,100,200,500,1e3,2500,0];selectedAmount=100;customAmountVisible=!1;ngOnInit(){this.loadUser(),this.loadWallet()}loadUser(){this.userService.me().subscribe(t=>{this.currentUser=t,this.editForm.patchValue({username:t.username,profile_image:null}),t.balance!==void 0&&(this.walletBalance=t.balance)})}openEditPopup(){this.editPopup=!0,this.previewImage=this.currentUser?.profile_image||null}closeEditPopup(){this.editPopup=!1,this.selectedFile=void 0,this.previewImage=null}onFileChange(t){let e=t.target.files?.[0];if(e){this.selectedFile=e;let r=new FileReader;r.onload=()=>this.previewImage=r.result,r.readAsDataURL(e)}}saveChanges(){let t=new FormData;t.append("username",this.editForm.value.username),this.selectedFile&&t.append("profile_image",this.selectedFile),this.userService.updateProfile(t).subscribe({next:()=>{this.closeEditPopup(),this.loadUser()},error:e=>{console.error(e),alert("\u0E40\u0E01\u0E34\u0E14\u0E02\u0E49\u0E2D\u0E1C\u0E34\u0E14\u0E1E\u0E25\u0E32\u0E14\u0E43\u0E19\u0E01\u0E32\u0E23\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01")}})}loadWallet(){this.walletService.getBalance().subscribe(t=>this.walletBalance=t.balance),this.walletService.getTransactions().subscribe(t=>this.transactionHistory=t)}selectAmount(t){t===0?(this.customAmountVisible=!0,this.selectedAmount=0):(this.customAmountVisible=!1,this.selectedAmount=t)}confirmTopUp(){this.selectedAmount>0&&this.walletService.topUp(this.selectedAmount).subscribe(t=>{this.walletBalance=t.balance,this.transactionHistory.unshift({date:new Date,type:"topup",amount:this.selectedAmount,description:"\u0E40\u0E15\u0E34\u0E21\u0E40\u0E07\u0E34\u0E19\u0E40\u0E02\u0E49\u0E32"}),this.selectedAmount=0,this.customAmountVisible=!1})}static \u0275fac=function(e){return new(e||a)(h(it),h(rt),h(oe))};static \u0275cmp=b({type:a,selectors:[["app-profile"]],decls:24,vars:6,consts:[["class","profile-container",4,"ngIf"],[1,"popup-overlay"],[1,"popup-content"],[3,"ngSubmit","formGroup"],[1,"form-group"],["formControlName","username"],["type","file","id","profileImageInput","hidden","",3,"change"],["for","profileImageInput",1,"image-upload-label"],["alt","Profile Preview",1,"profile-preview-img",3,"src"],[1,"upload-text"],[1,"popup-buttons"],["type","submit",1,"save-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"profile-container"],[1,"page-title"],[1,"main-section"],[1,"left-column"],[1,"card","wallet-balance-card"],[1,"balance"],[1,"card","top-up-card"],[1,"amount-grid"],["class","amount-btn",3,"active","click",4,"ngFor","ngForOf"],["class","custom-amount-input",4,"ngIf"],[1,"confirmation-section"],[1,"selected-amount"],[1,"confirm-btn",3,"click"],[1,"card","transaction-history-card"],[1,"history-header"],[1,"history-list"],["class","history-row",4,"ngFor","ngForOf"],[1,"right-column"],[1,"profile-card"],["alt","Profile",1,"profile-img",3,"src"],[1,"h3"],[1,"edit-btn",3,"click"],[1,"amount-btn",3,"click"],[1,"custom-amount-input"],["type","number","placeholder","\u0E01\u0E23\u0E2D\u0E01\u0E08\u0E33\u0E19\u0E27\u0E19\u0E40\u0E07\u0E34\u0E19",1,"n",3,"ngModelChange","ngModel"],[1,"history-row"]],template:function(e,r){e&1&&(p(0,"app-user-toolbar"),g(1,bt,42,13,"div",0),i(2,"div",1)(3,"div",2)(4,"h3"),o(5,"\u0E41\u0E01\u0E49\u0E44\u0E02\u0E42\u0E1B\u0E23\u0E44\u0E1F\u0E25\u0E4C"),n(),i(6,"form",3),m("ngSubmit",function(){return r.saveChanges()}),i(7,"div",4)(8,"label"),o(9,"Username"),n(),p(10,"input",5),n(),i(11,"div",4)(12,"label"),o(13,"\u0E23\u0E39\u0E1B\u0E42\u0E1B\u0E23\u0E44\u0E1F\u0E25\u0E4C"),n(),i(14,"input",6),m("change",function(u){return r.onFileChange(u)}),n(),i(15,"label",7),p(16,"img",8),i(17,"span",9),o(18,"\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E23\u0E39\u0E1B"),n()()(),i(19,"div",10)(20,"button",11),o(21," \u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01 "),n(),i(22,"button",12),m("click",function(){return r.closeEditPopup()}),o(23," \u0E22\u0E01\u0E40\u0E25\u0E34\u0E01 "),n()()()()()),e&2&&(l(),s("ngIf",r.currentUser),l(),q("show",r.editPopup),l(4),s("formGroup",r.editForm),l(10),s("src",r.previewImage||(r.currentUser==null?null:r.currentUser.profile_image)||"assets/default-avatar.png",N),l(4),s("disabled",r.editForm.invalid))},dependencies:[M,B,x,Z,X,A,de,T,K,ie,re,L,Q,ee,I,se,Y],styles:['@charset "UTF-8";.main-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;gap:2rem;max-width:1400px;margin:2rem auto}.left-column[_ngcontent-%COMP%], .right-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.h3[_ngcontent-%COMP%]{color:#fff;font-size:30px}.edit-btn[_ngcontent-%COMP%]{padding:1rem;border-radius:12px}.card[_ngcontent-%COMP%]{background:#f5f5f5;padding:1rem;border-radius:12px}.wallet-balance-card[_ngcontent-%COMP%]   .balance[_ngcontent-%COMP%]{font-size:3rem;color:#2ecc71}.top-up-card[_ngcontent-%COMP%]   .amount-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:.5rem}.n[_ngcontent-%COMP%], .selected-amount[_ngcontent-%COMP%]{padding:.5rem;font-size:20px}.amount-btn[_ngcontent-%COMP%]{padding:1rem;border-radius:6px;border:1px solid #333;cursor:pointer}.amount-btn.active[_ngcontent-%COMP%], .amount-btn[_ngcontent-%COMP%]:hover{background:#c7c7c7}.confirm-btn[_ngcontent-%COMP%]{background:#2ecc71;color:#000;border-radius:70px;padding:.5rem;border:none;cursor:pointer;font-size:20px}.transaction-history-card[_ngcontent-%COMP%]   .history-row[_ngcontent-%COMP%], .history-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.5fr 2fr 1fr;border-bottom:1px solid #ccc;padding:.5rem 0}.right-column[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.profile-img[_ngcontent-%COMP%]{width:250px;height:250px;border-radius:50%;object-fit:cover;margin-bottom:1rem}.popup-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;opacity:0;pointer-events:none;transition:opacity .3s ease}.popup-overlay.show[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.popup-content[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:12px;width:360px;max-width:90%;box-shadow:0 5px 20px #0000004d;transform:translateY(-30px);opacity:0;transition:all .3s ease}.popup-overlay.show[_ngcontent-%COMP%]   .popup-content[_ngcontent-%COMP%]{transform:translateY(0);opacity:1}.profile-preview-img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover;margin-bottom:.5rem}.image-upload-label[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;cursor:pointer}.upload-text[_ngcontent-%COMP%]{font-size:.85rem;color:#555;margin-top:4px}.popup-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:1rem}.save-btn[_ngcontent-%COMP%]{background-color:#2ecc71;color:#fff;border:none;padding:.6rem 1.5rem;border-radius:50px;cursor:pointer}.cancel-btn[_ngcontent-%COMP%]{background-color:#e74c3c;color:#fff;border:none;padding:.6rem 1.5rem;border-radius:50px;cursor:pointer}']})};function Ct(a,t){a&1&&(i(0,"div",10),o(1," \u0E01\u0E23\u0E38\u0E13\u0E32\u0E01\u0E23\u0E2D\u0E01 Email \u0E43\u0E2B\u0E49\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07 "),n())}function Mt(a,t){a&1&&(i(0,"div",10),o(1," \u0E01\u0E23\u0E38\u0E13\u0E32\u0E01\u0E23\u0E2D\u0E01\u0E23\u0E2B\u0E31\u0E2A\u0E1C\u0E48\u0E32\u0E19 "),n())}function vt(a,t){if(a&1&&(i(0,"div",10),o(1),n()),a&2){let e=d();l(),f(e.error)}}var ke=class a{constructor(t,e,r){this.fb=t;this.auth=e;this.router=r}form;error="";ngOnInit(){this.form=this.fb.group({email:["",[D.required,D.email]],password:["",D.required]})}submit(){if(this.form.invalid){this.form.markAllAsTouched();return}let{email:t,password:e}=this.form.value;this.auth.loginAdmin(t,e).subscribe({next:()=>this.router.navigate(["/admin/dashboard"]),error:r=>this.error=r.error?.message||r.message||"\u0E40\u0E02\u0E49\u0E32\u0E2A\u0E39\u0E48\u0E23\u0E30\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08"})}static \u0275fac=function(e){return new(e||a)(h(oe),h(W),h(S))};static \u0275cmp=b({type:a,selectors:[["app-admin"]],decls:21,vars:4,consts:[[1,"admin-login-wrapper"],[1,"admin-login-card"],[1,"admin-login-left"],[3,"ngSubmit","formGroup"],["formControlName","email","type","email"],["class","error",4,"ngIf"],["formControlName","password","type","password"],["type","submit"],[1,"admin-login-right"],["src","assets/logo3.png","alt","Admin Logo"],[1,"error"]],template:function(e,r){if(e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),o(4,"Admin Login"),n(),i(5,"form",3),m("ngSubmit",function(){return r.submit()}),i(6,"div")(7,"label"),o(8,"Email"),n(),p(9,"input",4),g(10,Ct,2,0,"div",5),n(),i(11,"div")(12,"label"),o(13,"Password"),n(),p(14,"input",6),g(15,Mt,2,0,"div",5),n(),g(16,vt,2,1,"div",5),i(17,"button",7),o(18,"\u0E40\u0E02\u0E49\u0E32\u0E2A\u0E39\u0E48\u0E23\u0E30\u0E1A\u0E1A"),n()()(),i(19,"div",8),p(20,"img",9),n()()()),e&2){let c,u;l(5),s("formGroup",r.form),l(5),s("ngIf",((c=r.form.get("email"))==null?null:c.touched)&&((c=r.form.get("email"))==null?null:c.invalid)),l(5),s("ngIf",((u=r.form.get("password"))==null?null:u.touched)&&((u=r.form.get("password"))==null?null:u.invalid)),l(),s("ngIf",r.error)}},dependencies:[M,x,Z,X,A,T,K,ie,re,I],styles:['@charset "UTF-8";.admin-login-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#1a1a1a;font-family:Thasadith,Fredericka the Great,sans-serif;background-image:url(/assets/bg.png);background-size:cover;background-position:center;background-repeat:no-repeat;box-shadow:0 6px 20px #0009}.admin-login-card[_ngcontent-%COMP%]{display:flex;width:800px;min-height:450px;border-radius:12px;overflow:hidden;box-shadow:0 6px 20px #0009}.admin-login-card[_ngcontent-%COMP%]   .admin-login-left[_ngcontent-%COMP%]{flex:1;padding:2rem;background-color:#b22222;display:flex;flex-direction:column;justify-content:center;color:#fff;font-size:1.1rem}.admin-login-card[_ngcontent-%COMP%]   .admin-login-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;font-size:2rem}.admin-login-card[_ngcontent-%COMP%]   .admin-login-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%;max-width:300px;margin:0 auto}.admin-login-card[_ngcontent-%COMP%]   .admin-login-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:1rem}.admin-login-card[_ngcontent-%COMP%]   .admin-login-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:700}.admin-login-card[_ngcontent-%COMP%]   .admin-login-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:2px solid #ff4d4d;border-radius:6px;background-color:#b22222;color:#fff;font-size:1rem}.admin-login-card[_ngcontent-%COMP%]   .admin-login-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#ff1a1a;box-shadow:0 0 5px #ff1a1a}.admin-login-card[_ngcontent-%COMP%]   .admin-login-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#fcc;font-size:.85rem;margin-top:.25rem}.admin-login-card[_ngcontent-%COMP%]   .admin-login-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{width:100%;padding:.7rem;margin-top:1rem;border:none;border-radius:6px;background-color:#7e6868;color:#06be10;font-weight:700;cursor:pointer;transition:background-color .2s}.admin-login-card[_ngcontent-%COMP%]   .admin-login-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background-color:#000}.admin-login-card[_ngcontent-%COMP%]   .admin-login-right[_ngcontent-%COMP%]{flex:1;overflow:hidden}.admin-login-card[_ngcontent-%COMP%]   .admin-login-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}']})};var De=class a{constructor(t,e){this.auth=t;this.router=e}canActivate(){return this.auth.getRole()!=="admin"?(this.router.navigate(["/"]),!1):!0}static \u0275fac=function(e){return new(e||a)($(W),$(S))};static \u0275prov=U({token:a,factory:a.\u0275fac,providedIn:"root"})};var Ie=class a{constructor(t){this.router=t}canActivate(){return localStorage.getItem("token")?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(e){return new(e||a)($(S))};static \u0275prov=U({token:a,factory:a.\u0275fac,providedIn:"root"})};function xt(a,t){if(a&1){let e=v();i(0,"nav",0)(1,"a",3),o(2,"\u0E40\u0E01\u0E21"),n(),i(3,"a",4),o(4,"\u0E42\u0E04\u0E49\u0E14\u0E2A\u0E48\u0E27\u0E19\u0E25\u0E14"),n(),i(5,"a",5),o(6,"\u0E08\u0E31\u0E14\u0E2D\u0E31\u0E19\u0E14\u0E31\u0E1A"),n(),i(7,"a",6),o(8,"\u0E1B\u0E23\u0E30\u0E27\u0E31\u0E15\u0E34\u0E18\u0E38\u0E23\u0E01\u0E23\u0E23\u0E21"),n(),i(9,"a",7),m("click",function(){E(e);let c=d();return _(c.logout())}),o(10,"\u0E2D\u0E2D\u0E01\u0E08\u0E32\u0E01\u0E23\u0E30\u0E1A\u0E1A"),n()()}if(a&2){let e=d();l(),q("active",e.currentRoute==="/admin/dashboard"),l(2),q("active",e.currentRoute==="/discounts"),l(2),q("active",e.currentRoute==="/ranking")}}var te=class a{constructor(t,e){this.router=t;this.auth=e;this.currentRoute=window.location.pathname}currentRoute="";isAdminLoggedIn(){let t=this.auth.getRole();return this.auth.isLoggedIn()&&t==="admin"}logout(){this.auth.logout(),this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||a)(h(S),h(W))};static \u0275cmp=b({type:a,selectors:[["app-admin-navbar"]],decls:4,vars:1,consts:[[1,"admin-navbar"],[1,"brand"],["class","admin-navbar",4,"ngIf"],["routerLink","/admin/dashboard"],["routerLink","/discounts"],["routerLink","/ranking"],["routerLink","/transactions","routerLinkActive","active"],[3,"click"]],template:function(e,r){e&1&&(i(0,"nav",0)(1,"div",1),o(2,"GameKek Admin"),n(),g(3,xt,11,6,"nav",2),n()),e&2&&(l(3),s("ngIf",r.isAdminLoggedIn()))},dependencies:[M,x,j,Qe,Xe],styles:[".admin-navbar[_ngcontent-%COMP%]{background-color:#b71c1c;color:#fff;display:flex;align-items:center;font-size:1.25rem;padding:3.5rem 2rem;justify-content:space-between}.admin-navbar[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{font-size:3.5rem;font-weight:700}.admin-navbar[_ngcontent-%COMP%]   .admin-navbar[_ngcontent-%COMP%]{display:flex;gap:10.5rem;padding:1rem 2rem}.admin-navbar[_ngcontent-%COMP%]   .admin-navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:700}.admin-navbar[_ngcontent-%COMP%]   .admin-navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.admin-navbar[_ngcontent-%COMP%]   .admin-navbar[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:2px solid white}"]})};var ne=class a{constructor(t){this.http=t}apiUrl=`${F.apiUrl}/games`;token=localStorage.getItem("token");getGames(t,e){let r={};return t&&(r.search=t),e&&(r.category=e),this.http.get(this.apiUrl,{params:r})}getGame(t){return this.http.get(`${this.apiUrl}/${t}`)}addGame(t){return this.http.post(`${this.apiUrl}/add-games`,t,{headers:new J({Authorization:`Bearer ${this.token}`})})}updateGame(t,e){return this.http.put(`${this.apiUrl}/${t}`,e,{headers:new J({Authorization:`Bearer ${this.token}`})})}deleteGame(t){return this.http.delete(`${this.apiUrl}/${t}`,{headers:new J({Authorization:`Bearer ${this.token}`})})}getCategories(){return this.http.get(`${this.apiUrl}/categories/list`)}static \u0275fac=function(e){return new(e||a)($(z))};static \u0275prov=U({token:a,factory:a.\u0275fac,providedIn:"root"})};function Pt(a,t){if(a&1&&(i(0,"tr")(1,"td"),o(2),n(),i(3,"td"),o(4),n(),i(5,"td"),o(6),P(7,"currency"),n(),i(8,"td"),o(9),P(10,"date"),n()()),a&2){let e=t.$implicit;l(2),f(e.title),l(2),f(e.category_name),l(2),f(ue(7,4,e.price,"USD","symbol","1.2-2")),l(3),f(V(10,9,e.release_date,"dd/MM/yyyy"))}}function Ot(a,t){if(a&1&&(i(0,"option",21),o(1),n()),a&2){let e=t.$implicit;s("ngValue",e.id),l(),C(" ",e.title," ")}}function yt(a,t){if(a&1&&(i(0,"option",21),o(1),n()),a&2){let e=t.$implicit;s("ngValue",e.id),l(),C(" ",e.title," ")}}function wt(a,t){if(a&1&&(i(0,"option",21),o(1),n()),a&2){let e=t.$implicit;s("ngValue",e.id),l(),C(" ",e.title," ")}}function St(a,t){if(a&1){let e=v();i(0,"div",12)(1,"label"),o(2,"\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E40\u0E01\u0E21\u0E17\u0E35\u0E48\u0E08\u0E30\u0E41\u0E01\u0E49\u0E44\u0E02"),n(),i(3,"select",22),w("ngModelChange",function(c){E(e);let u=d();return y(u.editGameId,c)||(u.editGameId=c),_(c)}),m("change",function(){E(e);let c=d();return _(c.loadGameForEdit())}),i(4,"option",14),o(5,"-- \u0E40\u0E25\u0E37\u0E2D\u0E01\u0E40\u0E01\u0E21 --"),n(),g(6,wt,2,2,"option",15),n()()}if(a&2){let e=d();l(3),O("ngModel",e.editGameId),l(),s("ngValue",null),l(2),s("ngForOf",e.games)}}function kt(a,t){if(a&1&&(i(0,"div",12)(1,"label"),o(2,"\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E23\u0E39\u0E1B\u0E20\u0E32\u0E1E"),n(),p(3,"img",23),n()),a&2){let e=d();l(3),s("src",e.file?e.filePreview:e.currentImageUrl,N)}}function Dt(a,t){if(a&1&&(i(0,"option",21),o(1),n()),a&2){let e=t.$implicit;s("ngValue",e.id),l(),C(" ",e.name," ")}}function It(a,t){if(a&1){let e=v();i(0,"form",24),m("ngSubmit",function(c){E(e);let u=d();return _(u.onSubmit(c))}),i(1,"div",12)(2,"label"),o(3,"\u0E0A\u0E37\u0E48\u0E2D\u0E40\u0E01\u0E21"),n(),i(4,"input",25),w("ngModelChange",function(c){E(e);let u=d();return y(u.title,c)||(u.title=c),_(c)}),n()(),i(5,"div",12)(6,"label"),o(7,"\u0E04\u0E33\u0E2D\u0E18\u0E34\u0E1A\u0E32\u0E22"),n(),i(8,"textarea",26),w("ngModelChange",function(c){E(e);let u=d();return y(u.description,c)||(u.description=c),_(c)}),n()(),i(9,"div",12)(10,"label"),o(11,"\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17"),n(),i(12,"select",27),w("ngModelChange",function(c){E(e);let u=d();return y(u.categoryId,c)||(u.categoryId=c),_(c)}),i(13,"option",28),o(14,"-- \u0E40\u0E25\u0E37\u0E2D\u0E01\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17 --"),n(),g(15,Dt,2,2,"option",15),n()(),i(16,"div",12)(17,"label"),o(18,"\u0E23\u0E32\u0E04\u0E32"),n(),i(19,"input",29),w("ngModelChange",function(c){E(e);let u=d();return y(u.price,c)||(u.price=c),_(c)}),n()(),i(20,"div",12)(21,"label"),o(22,"\u0E23\u0E39\u0E1B\u0E20\u0E32\u0E1E"),n(),i(23,"input",30),m("change",function(c){E(e);let u=d();return _(u.onFileSelected(c))}),n()(),i(24,"div",16)(25,"button",31),o(26),n(),i(27,"button",32),m("click",function(){E(e);let c=d();return _(c.closeModal())}),o(28," \u0E1B\u0E34\u0E14 "),n()()()}if(a&2){let e=d();l(4),O("ngModel",e.title),l(4),O("ngModel",e.description),l(4),O("ngModel",e.categoryId),l(),s("ngValue",null),l(2),s("ngForOf",e.categories),l(4),O("ngModel",e.price),l(7),C(" ",e.modalMode==="add"?"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E40\u0E01\u0E21":"\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E01\u0E32\u0E23\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E41\u0E1B\u0E25\u0E07"," ")}}var Ae=class a{constructor(t){this.gameService=t}games=[];categories=[];editGameId=null;title="";description="";categoryId=null;price=null;file=null;currentImageUrl=null;filePreview=null;showModal=!1;modalMode="add";showDeleteModal=!1;deleteGameId=null;ngOnInit(){this.loadGames(),this.loadCategories()}loadGames(){this.gameService.getGames().subscribe({next:t=>this.games=t,error:t=>console.error(t)})}loadCategories(){this.gameService.getCategories().subscribe({next:t=>this.categories=t,error:t=>console.error(t)})}onFileSelected(t){if(this.file=t.target.files[0],this.file){let e=new FileReader;e.onload=r=>{this.filePreview=r.target.result},e.readAsDataURL(this.file)}else this.filePreview=null}loadGameForEdit(){if(!this.editGameId)return;let t=this.games.find(e=>e.id===this.editGameId);t&&(this.title=t.title,this.description=t.description,this.categoryId=t.category_id,this.price=t.price,this.file=null,this.filePreview=null,this.currentImageUrl=t.image_url||null)}onSubmit(t){t.preventDefault();let e=new FormData;e.append("title",this.title),e.append("description",this.description),e.append("category_id",this.categoryId.toString()),e.append("price",this.price.toString()),this.file&&e.append("image",this.file),this.editGameId?this.gameService.updateGame(this.editGameId,e).subscribe({next:()=>{this.resetForm(),this.loadGames()},error:r=>console.error(r)}):this.gameService.addGame(e).subscribe({next:()=>{this.resetForm(),this.loadGames()},error:r=>console.error(r)})}openModal(t){this.modalMode=t,this.showModal=!0,t==="add"&&this.resetForm()}closeModal(){this.showModal=!1,this.resetForm()}openDeleteModal(){this.showDeleteModal=!0,this.deleteGameId=null}closeDeleteModal(){this.showDeleteModal=!1,this.deleteGameId=null}confirmDelete(){if(!this.deleteGameId){alert("\u0E01\u0E23\u0E38\u0E13\u0E32\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E40\u0E01\u0E21\u0E17\u0E35\u0E48\u0E08\u0E30\u0E25\u0E1A");return}confirm("\u0E04\u0E38\u0E13\u0E41\u0E19\u0E48\u0E43\u0E08\u0E27\u0E48\u0E32\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E25\u0E1A\u0E40\u0E01\u0E21\u0E19\u0E35\u0E49\u0E08\u0E23\u0E34\u0E07 \u0E46?")&&this.gameService.deleteGame(this.deleteGameId).subscribe({next:()=>{this.loadGames(),this.closeDeleteModal()},error:t=>console.error(t)})}resetForm(){this.editGameId=null,this.title="",this.description="",this.categoryId=null,this.price=null,this.file=null,this.filePreview=null,this.currentImageUrl=null}static \u0275fac=function(e){return new(e||a)(h(ne))};static \u0275cmp=b({type:a,selectors:[["app-admin-dashboard"]],decls:74,vars:17,consts:[[1,"container"],[1,"table-header"],[1,"action-buttons"],[1,"btn","btn-add",3,"click"],[1,"btn","btn-edit",3,"click"],[1,"btn","btn-delete",3,"click"],[1,"table-container","card"],[1,"games-table"],[4,"ngFor","ngForOf"],[1,"modal"],[1,"modal-content"],[1,"close",3,"click"],[1,"form-group"],[3,"ngModelChange","ngModel"],["disabled","","selected","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-actions"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"],["class","form-group",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[3,"ngValue"],[3,"ngModelChange","change","ngModel"],["alt","Preview",1,"image-preview",3,"src"],[3,"ngSubmit"],["type","text","name","title","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","description",1,"form-control",3,"ngModelChange","ngModel"],["name","categoryId","required","",1,"form-control",3,"ngModelChange","ngModel"],["disabled","",3,"ngValue"],["type","number","name","price","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","file",3,"change"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(e,r){e&1&&(p(0,"app-admin-navbar")(1,"router-outlet"),i(2,"div",0)(3,"div",1)(4,"h2"),o(5,"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E40\u0E01\u0E21\u0E17\u0E31\u0E49\u0E07\u0E2B\u0E21\u0E14"),n(),i(6,"div",2)(7,"button",3),m("click",function(){return r.openModal("add")}),o(8,"\u0E40\u0E1E\u0E34\u0E48\u0E21"),n(),i(9,"button",4),m("click",function(){return r.openModal("edit")}),o(10,"\u0E41\u0E01\u0E49\u0E44\u0E02"),n(),i(11,"button",5),m("click",function(){return r.openDeleteModal()}),o(12,"\u0E25\u0E1A\u0E40\u0E01\u0E21"),n()()(),i(13,"div",6)(14,"h2"),o(15,"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E40\u0E01\u0E21"),n(),i(16,"table",7)(17,"thead")(18,"tr")(19,"th"),o(20,"\u0E0A\u0E37\u0E48\u0E2D\u0E40\u0E01\u0E21"),n(),i(21,"th"),o(22,"\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17"),n(),i(23,"th"),o(24,"\u0E23\u0E32\u0E04\u0E32"),n(),i(25,"th"),o(26,"\u0E27\u0E31\u0E19\u0E27\u0E32\u0E07\u0E08\u0E33\u0E2B\u0E19\u0E48\u0E32\u0E22"),n()()(),i(27,"tbody"),g(28,Pt,11,12,"tr",8),n()()(),i(29,"div",9)(30,"div",10)(31,"span",11),m("click",function(){return r.closeDeleteModal()}),o(32,"\xD7"),n(),i(33,"h2"),o(34,"\u0E25\u0E1A\u0E40\u0E01\u0E21"),n(),i(35,"div",12)(36,"label"),o(37,"\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E40\u0E01\u0E21\u0E17\u0E35\u0E48\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E25\u0E1A"),n(),i(38,"select",13),w("ngModelChange",function(u){return y(r.deleteGameId,u)||(r.deleteGameId=u),u}),i(39,"option",14),o(40,"-- \u0E40\u0E25\u0E37\u0E2D\u0E01\u0E40\u0E01\u0E21 --"),n(),g(41,Ot,2,2,"option",15),n()(),i(42,"div",16)(43,"button",17),m("click",function(){return r.confirmDelete()}),o(44,"\u0E25\u0E1A\u0E40\u0E01\u0E21"),n(),i(45,"button",18),m("click",function(){return r.closeDeleteModal()}),o(46," \u0E22\u0E01\u0E40\u0E25\u0E34\u0E01 "),n()()()(),i(47,"div",9)(48,"div",10)(49,"span",11),m("click",function(){return r.closeDeleteModal()}),o(50,"\xD7"),n(),i(51,"h2"),o(52,"\u0E25\u0E1A\u0E40\u0E01\u0E21"),n(),i(53,"div",12)(54,"label"),o(55,"\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E40\u0E01\u0E21\u0E17\u0E35\u0E48\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E25\u0E1A"),n(),i(56,"select",13),w("ngModelChange",function(u){return y(r.deleteGameId,u)||(r.deleteGameId=u),u}),i(57,"option",14),o(58,"-- \u0E40\u0E25\u0E37\u0E2D\u0E01\u0E40\u0E01\u0E21 --"),n(),g(59,yt,2,2,"option",15),n()(),i(60,"div",16)(61,"button",17),m("click",function(){return r.confirmDelete()}),o(62,"\u0E25\u0E1A\u0E40\u0E01\u0E21"),n(),i(63,"button",18),m("click",function(){return r.closeDeleteModal()}),o(64," \u0E22\u0E01\u0E40\u0E25\u0E34\u0E01 "),n()()()(),i(65,"div",9)(66,"div",10)(67,"span",11),m("click",function(){return r.closeModal()}),o(68,"\xD7"),n(),i(69,"h2"),o(70),n(),g(71,St,7,3,"div",19)(72,kt,4,1,"div",19)(73,It,29,7,"form",20),n()()()),e&2&&(l(28),s("ngForOf",r.games),l(),q("show",r.showDeleteModal),l(9),O("ngModel",r.deleteGameId),l(),s("ngValue",null),l(2),s("ngForOf",r.games),l(6),q("show",r.showDeleteModal),l(9),O("ngModel",r.deleteGameId),l(),s("ngValue",null),l(2),s("ngForOf",r.games),l(6),q("show",r.showModal),l(5),f(r.modalMode==="add"?"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E40\u0E01\u0E21\u0E43\u0E2B\u0E21\u0E48":"\u0E41\u0E01\u0E49\u0E44\u0E02\u0E40\u0E01\u0E21"),l(),s("ngIf",r.modalMode==="edit"),l(),s("ngIf",r.file||r.currentImageUrl),l(),s("ngIf",r.modalMode==="add"||r.modalMode==="edit"&&r.editGameId))},dependencies:[M,B,x,Z,X,ge,pe,A,de,xe,T,K,nt,I,L,Q,tt,te,j,ve,me,Y],styles:['@charset "UTF-8";[_nghost-%COMP%]{font-family:Tahoma,sans-serif}.navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#b71c1c;color:#fff;padding:.5rem 5rem}.navbar-brand[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;margin-left:1.5rem;padding-bottom:5px;border-bottom:2px solid transparent;transition:border-color .3s}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border-color:#fff}.container[_ngcontent-%COMP%]{width:100%;height:100vh;padding:2rem;background-color:#fff;box-sizing:border-box}.table-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.table-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.75rem}.btn[_ngcontent-%COMP%]{border:none;color:#fff;padding:.6rem 1.8rem;border-radius:50px;font-size:1rem;font-weight:700;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 10px #0003}.btn-add[_ngcontent-%COMP%]{background-color:#0fc92b;color:#000}.btn-edit[_ngcontent-%COMP%]{background-color:#ffe100;color:#000}.btn-delete[_ngcontent-%COMP%]{background-color:#d00;color:#000}.card[_ngcontent-%COMP%]{background:#fff;margin:2rem;padding:1rem;border-radius:8px;box-shadow:0 2px 10px #0000000d}.games-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;text-align:left}.games-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .games-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #e0e0e0;vertical-align:middle}.games-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#757575;font-weight:700}.game-image[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover;border-radius:4px}.modal[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#0009}.modal.show[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.modal[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{display:block;width:100%;max-height:400px;object-fit:contain;border-radius:8px;margin-bottom:10px}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;padding:2rem;border-radius:8px;box-shadow:0 5px 15px #0000004d;width:90%;max-width:500px;position:relative}.close[_ngcontent-%COMP%]{color:#aaa;position:absolute;top:1rem;right:1.5rem;font-size:28px;font-weight:700;cursor:pointer}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:2rem}.form-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#2196f3}.form-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#9e9e9e}']})};function At(a,t){if(a&1&&(i(0,"option",11),o(1),n()),a&2){let e=t.$implicit;s("value",e.name),l(),C(" ",e.name," ")}}function Tt(a,t){if(a&1){let e=v();i(0,"div",12),m("click",function(){let c=E(e).$implicit,u=d();return _(u.goToGameDetails(c.id))}),p(1,"img",13),i(2,"div",14)(3,"span",15),o(4),P(5,"currency"),n()(),i(6,"div",16),o(7),n()()}if(a&2){let e=t.$implicit;l(),s("src",e.image_url,N)("alt",e.title),l(3),f(ue(5,4,e.price,"USD","symbol","1.2-2")),l(3),f(e.title)}}var Te=class a{constructor(t,e){this.gameService=t;this.router=e}games=[];filteredGames=[];categories=[];searchText="";selectedCategory="";ngOnInit(){this.loadGames(),this.loadCategories()}loadGames(){this.gameService.getGames().subscribe({next:t=>{this.games=t,this.filteredGames=t},error:t=>console.error(t)})}loadCategories(){this.gameService.getCategories().subscribe({next:t=>this.categories=t,error:t=>console.error(t)})}filterGames(){this.filteredGames=this.games.filter(t=>{let e=t.title.toLowerCase().includes(this.searchText.toLowerCase()),r=this.selectedCategory?t.category_name===this.selectedCategory:!0;return e&&r})}goToGameDetails(t){this.router.navigate(["/game",t])}static \u0275fac=function(e){return new(e||a)(h(ne),h(S))};static \u0275cmp=b({type:a,selectors:[["app-store-main"]],decls:14,vars:4,consts:[[1,"store-container"],[1,"search-bar"],[1,"store-title"],[1,"search-input-container"],[1,"fas","fa-search","search-icon"],["type","text","placeholder","\u0E04\u0E49\u0E19\u0E2B\u0E32\u0E40\u0E01\u0E21...",3,"ngModelChange","input","ngModel"],[3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"game-grid"],["class","game-card",3,"click",4,"ngFor","ngForOf"],[3,"value"],[1,"game-card",3,"click"],[3,"src","alt"],[1,"overlay"],[1,"price"],[1,"game-title"]],template:function(e,r){e&1&&(p(0,"app-user-toolbar"),i(1,"div",0)(2,"div",1)(3,"h2",2),o(4,"GameStore"),n(),i(5,"div",3),p(6,"i",4),i(7,"input",5),w("ngModelChange",function(u){return y(r.searchText,u)||(r.searchText=u),u}),m("input",function(){return r.filterGames()}),n()(),i(8,"select",6),w("ngModelChange",function(u){return y(r.selectedCategory,u)||(r.selectedCategory=u),u}),m("change",function(){return r.filterGames()}),i(9,"option",7),o(10,"\u0E17\u0E31\u0E49\u0E07\u0E2B\u0E21\u0E14"),n(),g(11,At,2,2,"option",8),n()(),i(12,"div",9),g(13,Tt,8,9,"div",10),n()()),e&2&&(l(7),O("ngModel",r.searchText),l(),O("ngModel",r.selectedCategory),l(3),s("ngForOf",r.categories),l(2),s("ngForOf",r.filteredGames))},dependencies:[M,B,I,L,ge,pe,A,xe,T,Q,j,ee,me],styles:['@charset "UTF-8";.store-container[_ngcontent-%COMP%]{width:100vw;margin:20;padding:2rem 0}.store-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;margin:20px 20rem}.store-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .store-title[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:700;color:#fff;white-space:nowrap}.store-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;flex:1}.store-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;font-size:1.25rem;color:#555;pointer-events:none}.store-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .store-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-size:1rem;border-radius:50px;border:none;background-color:#e0e0e0;color:#333}.store-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding-left:3rem}.store-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#555}.store-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none}.store-container[_ngcontent-%COMP%]   .game-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);gap:1.5rem;padding:0 10rem}.store-container[_ngcontent-%COMP%]   .game-grid[_ngcontent-%COMP%]   .game-card[_ngcontent-%COMP%]{position:relative;cursor:pointer;border-radius:8px;overflow:hidden;transition:transform .2s;box-shadow:0 2px 10px #0000001a}.store-container[_ngcontent-%COMP%]   .game-grid[_ngcontent-%COMP%]   .game-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.store-container[_ngcontent-%COMP%]   .game-grid[_ngcontent-%COMP%]   .game-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;display:block}.store-container[_ngcontent-%COMP%]   .game-grid[_ngcontent-%COMP%]   .game-card[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;background:#0000001f;color:#fff;text-align:center;padding:.3rem 0;font-weight:700}.store-container[_ngcontent-%COMP%]   .game-grid[_ngcontent-%COMP%]   .game-card[_ngcontent-%COMP%]   .game-title[_ngcontent-%COMP%]{padding:.5rem;text-align:center;font-weight:700}@media (max-width: 1200px){.store-container[_ngcontent-%COMP%]   .game-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (max-width: 992px){.store-container[_ngcontent-%COMP%]   .game-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 768px){.store-container[_ngcontent-%COMP%]   .game-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 576px){.store-container[_ngcontent-%COMP%]   .game-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})};var fe=class a{purchasedGames=[];constructor(){let t=localStorage.getItem("purchasedGames");t&&(this.purchasedGames=JSON.parse(t))}loadPurchasedGames(t){this.purchasedGames=t,localStorage.setItem("purchasedGames",JSON.stringify(this.purchasedGames))}isGamePurchased(t){return this.purchasedGames.includes(t)}addPurchasedGame(t){this.isGamePurchased(t)||(this.purchasedGames.push(t),localStorage.setItem("purchasedGames",JSON.stringify(this.purchasedGames)))}static \u0275fac=function(e){return new(e||a)};static \u0275prov=U({token:a,factory:a.\u0275fac,providedIn:"root"})};function Ft(a,t){if(a&1){let e=v();i(0,"button",15),m("click",function(){E(e);let c=d(2);return _(c.addToCart())}),o(1," \u0E2B\u0E22\u0E34\u0E1A\u0E43\u0E2A\u0E48\u0E23\u0E16\u0E40\u0E02\u0E47\u0E19 "),n()}}function Gt(a,t){a&1&&(i(0,"span",16),o(1,"\u0E40\u0E01\u0E21\u0E19\u0E35\u0E49\u0E04\u0E38\u0E13\u0E0B\u0E37\u0E49\u0E2D\u0E41\u0E25\u0E49\u0E27"),n())}function Nt(a,t){if(a&1){let e=v();i(0,"div",1)(1,"h1",2)(2,"span",3),m("click",function(){E(e);let c=d();return _(c.goBack())}),o(3,"\u2190"),n(),o(4," Game Detail "),n(),i(5,"div",4)(6,"div",5)(7,"h2"),o(8),n(),p(9,"img",6),i(10,"div",7)(11,"p"),o(12),n(),i(13,"p"),o(14),P(15,"date"),n(),i(16,"p"),o(17),n()()(),i(18,"div",8)(19,"h1",9),o(20),n(),i(21,"p",10),o(22),n(),i(23,"div",11)(24,"span",12),o(25),n(),g(26,Ft,2,0,"button",13)(27,Gt,2,0,"span",14),n()()()()}if(a&2){let e=d();l(8),f(e.gameData==null?null:e.gameData.title),l(),s("alt",be(e.gameData==null?null:e.gameData.title))("src",e.gameData==null?null:e.gameData.image_url,N),l(3),C("\u0E41\u0E19\u0E27: ",e.gameData==null?null:e.gameData.category_name),l(2),C("\u0E27\u0E31\u0E19\u0E27\u0E32\u0E07\u0E08\u0E33\u0E2B\u0E19\u0E48\u0E32\u0E22: ",V(15,12,e.gameData==null?null:e.gameData.release_date,"longDate")),l(3),C("\u0E2D\u0E31\u0E19\u0E14\u0E31\u0E1A: ",e.gameData==null?null:e.gameData.rank),l(3),f(e.gameData==null?null:e.gameData.title),l(2),f(e.gameData==null?null:e.gameData.description),l(3),C("",e.gameData==null?null:e.gameData.price,"\u0E3F"),l(),s("ngIf",!e.isPurchased),l(),s("ngIf",e.isPurchased)}}var Fe=class a{constructor(t,e,r,c){this.route=t;this.gameService=e;this.location=r;this.router=c}gameData=null;isPurchased=!1;cartService=G(Pe);libraryService=G(fe);ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));t&&(this.isPurchased=this.libraryService.isGamePurchased(t),this.gameService.getGame(t).subscribe({next:e=>{this.gameData=e,!this.isPurchased&&this.router.url.startsWith("/library")&&this.router.navigate(["/game",t])},error:e=>{console.error("\u0E44\u0E21\u0E48\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E42\u0E2B\u0E25\u0E14\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E40\u0E01\u0E21\u0E44\u0E14\u0E49",e)}}))}goBack(){this.location.back()}addToCart(){!this.gameData||this.isPurchased||this.cartService.addToCart(this.gameData.id).subscribe({next:()=>{confirm(`${this.gameData.title} \u0E16\u0E39\u0E01\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E44\u0E1B\u0E17\u0E35\u0E48\u0E15\u0E30\u0E01\u0E23\u0E49\u0E32\u0E41\u0E25\u0E49\u0E27

\u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E44\u0E1B\u0E2B\u0E19\u0E49\u0E32\u0E15\u0E30\u0E01\u0E23\u0E49\u0E32\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?`)&&this.router.navigate(["/purchase"])},error:t=>{console.error("\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E40\u0E01\u0E21\u0E25\u0E07\u0E15\u0E30\u0E01\u0E23\u0E49\u0E32\u0E44\u0E21\u0E48\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08",t),alert("\u0E44\u0E21\u0E48\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E40\u0E01\u0E21\u0E25\u0E07\u0E15\u0E30\u0E01\u0E23\u0E49\u0E32\u0E44\u0E14\u0E49")}})}static \u0275fac=function(e){return new(e||a)(h(Me),h(ne),h(Ce),h(S))};static \u0275cmp=b({type:a,selectors:[["app-game-detail"]],decls:2,vars:1,consts:[["class","game-detail-container",4,"ngIf"],[1,"game-detail-container"],[1,"page-title"],[1,"back-arrow",3,"click"],[1,"game-detail-content"],[1,"left"],[3,"src","alt"],[1,"meta"],[1,"right"],[1,"title"],[1,"description"],[1,"bottom"],[1,"price"],["class","buy-btn",3,"click",4,"ngIf"],["class","purchased-label",4,"ngIf"],[1,"buy-btn",3,"click"],[1,"purchased-label"]],template:function(e,r){e&1&&(p(0,"app-user-toolbar"),g(1,Nt,28,15,"div",0)),e&2&&(l(),s("ngIf",r.gameData))},dependencies:[M,x,ee,j,Y],styles:[".game-detail-container[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:0 2rem;color:#fff;grid-template-columns:2fr 3fr;gap:3rem}.game-detail-container[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:2rem;display:flex;align-items:center}.game-detail-container[_ngcontent-%COMP%]   .game-detail-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr;gap:3rem}.left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;aspect-ratio:16/9;border-radius:12px;object-fit:cover;margin-bottom:1.5rem}.left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#a0a0a0;margin:.5rem 0}.right[_ngcontent-%COMP%]{display:flex;flex-direction:column}.right[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:4rem;font-weight:700;text-transform:lowercase;margin-bottom:1.5rem}.right[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{background-color:#121212;border:1px solid #333;border-radius:12px;padding:1.5rem;font-size:1rem;line-height:1.6;color:#a0a0a0;flex-grow:1}.right[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:2rem;gap:2rem}.right[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;color:#e53935}.right[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .buy-btn[_ngcontent-%COMP%]{background-color:#ffdd40;color:#000;font-size:1.2rem;font-weight:700;padding:1rem 2.5rem;border:none;border-radius:8px;cursor:pointer;transition:transform .2s ease}.right[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .buy-btn[_ngcontent-%COMP%]:hover{transform:scale(1.05)}"]})};function Vt(a,t){if(a&1&&(i(0,"option",7),o(1),n()),a&2){let e=t.$implicit;s("value",e.id),l(),C(" ",e.username," ")}}function Bt(a,t){if(a&1&&(i(0,"tr")(1,"td"),o(2),n(),i(3,"td"),o(4),n(),i(5,"td"),o(6),P(7,"number"),n(),i(8,"td"),o(9),P(10,"date"),n()()),a&2){let e=t.$implicit;l(2),f((e.user==null?null:e.user.username)||"\u0E44\u0E21\u0E48\u0E23\u0E30\u0E1A\u0E38"),l(2),C(" ",e.type==="topup"?"\u0E40\u0E15\u0E34\u0E21\u0E40\u0E07\u0E34\u0E19":e.type==="purchase"?"\u0E0B\u0E37\u0E49\u0E2D\u0E40\u0E01\u0E21":"\u0E44\u0E21\u0E48\u0E23\u0E30\u0E1A\u0E38"," "),l(2),C("",V(7,4,e.amount,"1.2-2")," \u0E3F"),l(3),f(V(10,7,e.date,"dd/MM/yyyy"))}}function Rt(a,t){if(a&1&&(i(0,"table",8)(1,"thead")(2,"tr")(3,"th"),o(4,"\u0E0A\u0E37\u0E48\u0E2D\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49"),n(),i(5,"th"),o(6,"\u0E23\u0E32\u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14"),n(),i(7,"th"),o(8,"\u0E08\u0E33\u0E19\u0E27\u0E19\u0E40\u0E07\u0E34\u0E19"),n(),i(9,"th"),o(10,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E17\u0E33\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"),n()()(),i(11,"tbody"),g(12,Bt,11,10,"tr",9),n()()),a&2){let e=d();l(12),s("ngForOf",e.transactions)}}function Ut(a,t){a&1&&(i(0,"div")(1,"p"),o(2,"\u0E44\u0E21\u0E48\u0E1E\u0E1A\u0E18\u0E38\u0E23\u0E01\u0E23\u0E23\u0E21\u0E02\u0E2D\u0E07\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E04\u0E19\u0E19\u0E35\u0E49"),n()())}var Ge=class a{constructor(t){this.http=t;this.loadUsers()}users=[];selectedUserId=null;transactions=[];loadUsers(){let t=localStorage.getItem("token");if(!t)return console.error("No token found");this.http.get(`${F.apiUrl}/users`,{headers:{Authorization:`Bearer ${t}`}}).subscribe({next:e=>{this.users=e.filter(r=>r.role==="user")},error:e=>console.error("Load users error",e)})}onUserChange(t){let e=Number(t);if(this.selectedUserId=e,this.transactions=[],!e)return;let r=localStorage.getItem("token");if(!r)return console.error("No token found");this.http.get(`${F.apiUrl}/wallet/admin/user/${e}`,{headers:{Authorization:`Bearer ${r}`}}).subscribe({next:c=>this.transactions=c,error:c=>console.error("Load transactions error",c)})}static \u0275fac=function(e){return new(e||a)(h(z))};static \u0275cmp=b({type:a,selectors:[["app-admin-transactions"]],decls:13,vars:3,consts:[[1,"container"],[1,"filter-section"],[3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","transactions-table",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"transactions-table"],[4,"ngFor","ngForOf"]],template:function(e,r){e&1&&(p(0,"app-admin-navbar"),i(1,"div",0)(2,"h1"),o(3,"\u0E1B\u0E23\u0E30\u0E27\u0E31\u0E15\u0E34\u0E18\u0E38\u0E23\u0E01\u0E23\u0E23\u0E21\u0E02\u0E2D\u0E07\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49"),n(),i(4,"div",1)(5,"label"),o(6,"\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49:"),n(),i(7,"select",2),m("change",function(u){return r.onUserChange(u.target.value)}),i(8,"option",3),o(9,"-- Select User --"),n(),g(10,Vt,2,2,"option",4),n()(),g(11,Rt,13,1,"table",5)(12,Ut,3,0,"div",6),n()),e&2&&(l(10),s("ngForOf",r.users),l(),s("ngIf",r.transactions.length>0),l(),s("ngIf",r.transactions.length===0&&r.selectedUserId))},dependencies:[te,L,ge,pe,M,B,x,j,se,Y],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{padding:0 2rem;font-family:sans-serif}.container[_ngcontent-%COMP%]{width:100%;height:100vh;padding:2rem;background-color:#fff;box-sizing:border-box}.page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:2rem}.filter-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1.5rem}.user-select-btn[_ngcontent-%COMP%]{background-color:#ffd60a;color:#000;border:none;border-radius:6px;padding:.75rem 1.5rem;font-size:1rem;font-weight:700;cursor:pointer}.search-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#e0e0e0;border:1px solid #ccc;border-radius:6px;padding:.75rem 2.5rem .75rem 1rem;font-size:1rem;width:300px}.search-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;right:.75rem;font-size:1.25rem;color:#555;cursor:pointer}.selected-user-info[_ngcontent-%COMP%]{margin-bottom:2rem;font-size:1.25rem}.selected-user-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:red;font-weight:700}.selected-user-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#000}.transactions-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.transactions-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;padding:1rem .5rem;border-bottom:2px solid #000;font-size:1.1rem;font-weight:700}.transactions-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem .5rem;border-bottom:1px solid #e0e0e0}.transactions-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.no-data-message[_ngcontent-%COMP%]{text-align:center;margin-top:3rem;color:#888;font-size:1.1rem}']})};function zt(a,t){if(a&1){let e=v();i(0,"button",15),m("click",function(){E(e);let c=d();return _(c.saveEdit())}),o(1," \u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01 "),n()}}function jt(a,t){if(a&1){let e=v();i(0,"button",16),m("click",function(){E(e);let c=d();return _(c.cancelEdit())}),o(1," \u0E22\u0E01\u0E40\u0E25\u0E34\u0E01 "),n()}}function Lt(a,t){if(a&1){let e=v();i(0,"button",17),m("click",function(){E(e);let c=d();return _(c.createDiscount())}),o(1," \u0E2A\u0E23\u0E49\u0E32\u0E07\u0E42\u0E04\u0E49\u0E14 "),n()}}function Wt(a,t){if(a&1){let e=v();i(0,"tr")(1,"td"),o(2),n(),i(3,"td"),o(4),n(),i(5,"td"),o(6),n(),i(7,"td"),o(8),n(),i(9,"td"),o(10),n(),i(11,"td")(12,"button",15),m("click",function(){let c=E(e).$implicit,u=d();return _(u.startEdit(c))}),o(13,"\u0E41\u0E01\u0E49\u0E44\u0E02"),n(),i(14,"button",18),m("click",function(){let c=E(e).$implicit,u=d();return _(u.deleteDiscount(c.id))}),o(15," \u0E25\u0E1A "),n()()()}if(a&2){let e=t.$implicit;l(2),f(e.code),l(2),C("",e.discount_percent,"%"),l(2),f(e.max_uses),l(2),f(e.used_count),l(2),f(e.expires_at||"-")}}var Ne=class a{http=G(z);discounts=[];discountForm={code:"",discount_percent:0,max_uses:1,expires_at:""};editingDiscount=null;ngOnInit(){this.loadDiscounts()}getHeaders(){let t=localStorage.getItem("token");return{headers:new J({Authorization:`Bearer ${t}`})}}loadDiscounts(){return ce(this,null,function*(){try{let t=yield this.http.get(`${F.apiUrl}/discounts`,this.getHeaders()).toPromise();this.discounts=t??[]}catch(t){console.error(t),alert("\u0E42\u0E2B\u0E25\u0E14\u0E42\u0E04\u0E49\u0E14\u0E2A\u0E48\u0E27\u0E19\u0E25\u0E14\u0E44\u0E21\u0E48\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08"),this.discounts=[]}})}createDiscount(){return ce(this,null,function*(){try{yield this.http.post(`${F.apiUrl}/discounts`,this.discountForm,this.getHeaders()).toPromise(),alert("\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E42\u0E04\u0E49\u0E14\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08"),this.resetForm(),this.loadDiscounts()}catch(t){console.error(t),alert(t.error?.error||"\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E42\u0E04\u0E49\u0E14\u0E44\u0E21\u0E48\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08")}})}deleteDiscount(t){return ce(this,null,function*(){if(confirm("\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19\u0E25\u0E1A\u0E42\u0E04\u0E49\u0E14\u0E2A\u0E48\u0E27\u0E19\u0E25\u0E14\u0E19\u0E35\u0E49?"))try{yield this.http.delete(`${F.apiUrl}/discounts/${t}`,this.getHeaders()).toPromise(),alert("\u0E25\u0E1A\u0E42\u0E04\u0E49\u0E14\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08"),this.loadDiscounts()}catch(e){console.error(e),alert("\u0E25\u0E1A\u0E42\u0E04\u0E49\u0E14\u0E44\u0E21\u0E48\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08")}})}startEdit(t){this.editingDiscount=he({},t),this.discountForm={code:t.code,discount_percent:t.discount_percent,max_uses:t.max_uses,expires_at:t.expires_at??""}}cancelEdit(){this.editingDiscount=null,this.resetForm()}saveEdit(){return ce(this,null,function*(){if(this.editingDiscount)try{yield this.http.put(`${F.apiUrl}/discounts/${this.editingDiscount.id}`,this.discountForm,this.getHeaders()).toPromise(),alert("\u0E41\u0E01\u0E49\u0E44\u0E02\u0E42\u0E04\u0E49\u0E14\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08"),this.editingDiscount=null,this.resetForm(),this.loadDiscounts()}catch(t){console.error(t),alert(t.error?.error||"\u0E41\u0E01\u0E49\u0E44\u0E02\u0E42\u0E04\u0E49\u0E14\u0E44\u0E21\u0E48\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08")}})}resetForm(){this.discountForm={code:"",discount_percent:0,max_uses:1,expires_at:""}}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=b({type:a,selectors:[["app-discount-management"]],decls:46,vars:9,consts:[[1,"container"],[1,"card","create-section"],[1,"form-group"],["placeholder","Code",3,"ngModelChange","ngModel"],[1,"form-text"],["type","number","placeholder","Percent (%)",3,"ngModelChange","ngModel"],["type","number","placeholder","Max Uses",3,"ngModelChange","ngModel"],["type","date","placeholder","Expires At",3,"ngModelChange","ngModel"],[1,"form-actions"],["class","btn btn-edit",3,"click",4,"ngIf"],["class","btn btn-secondary",3,"click",4,"ngIf"],["class","btn btn-add",3,"click",4,"ngIf"],[1,"card","list-section"],[1,"games-table"],[4,"ngFor","ngForOf"],[1,"btn","btn-edit",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-add",3,"click"],[1,"btn","btn-delete",3,"click"]],template:function(e,r){e&1&&(p(0,"app-admin-navbar"),i(1,"div",0)(2,"div",1)(3,"h3"),o(4),n(),i(5,"div",2)(6,"input",3),w("ngModelChange",function(u){return y(r.discountForm.code,u)||(r.discountForm.code=u),u}),n(),i(7,"small",4),o(8,"\u0E23\u0E2B\u0E31\u0E2A\u0E2A\u0E48\u0E27\u0E19\u0E25\u0E14 \u0E40\u0E0A\u0E48\u0E19 WELCOME10"),n()(),i(9,"div",2)(10,"input",5),w("ngModelChange",function(u){return y(r.discountForm.discount_percent,u)||(r.discountForm.discount_percent=u),u}),n(),i(11,"small",4),o(12,"\u0E40\u0E1B\u0E2D\u0E23\u0E4C\u0E40\u0E0B\u0E47\u0E19\u0E15\u0E4C\u0E2A\u0E48\u0E27\u0E19\u0E25\u0E14 \u0E40\u0E0A\u0E48\u0E19 10 = \u0E25\u0E14 10%"),n()(),i(13,"div",2)(14,"input",6),w("ngModelChange",function(u){return y(r.discountForm.max_uses,u)||(r.discountForm.max_uses=u),u}),n(),i(15,"small",4),o(16,"\u0E08\u0E33\u0E19\u0E27\u0E19\u0E04\u0E23\u0E31\u0E49\u0E07\u0E2A\u0E39\u0E07\u0E2A\u0E38\u0E14\u0E17\u0E35\u0E48\u0E43\u0E0A\u0E49\u0E44\u0E14\u0E49 \u0E40\u0E0A\u0E48\u0E19 50 \u0E04\u0E23\u0E31\u0E49\u0E07"),n()(),i(17,"div",2)(18,"input",7),w("ngModelChange",function(u){return y(r.discountForm.expires_at,u)||(r.discountForm.expires_at=u),u}),n(),i(19,"small",4),o(20,"\u0E27\u0E31\u0E19\u0E2B\u0E21\u0E14\u0E2D\u0E32\u0E22\u0E38 \u0E40\u0E0A\u0E48\u0E19 2025-12-31"),n()(),i(21,"div",8),g(22,zt,2,0,"button",9)(23,jt,2,0,"button",10)(24,Lt,2,0,"button",11),n()(),p(25,"hr"),i(26,"div",12)(27,"h3"),o(28,"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23\u0E42\u0E04\u0E49\u0E14\u0E2A\u0E48\u0E27\u0E19\u0E25\u0E14"),n(),i(29,"table",13)(30,"thead")(31,"tr")(32,"th"),o(33,"Code"),n(),i(34,"th"),o(35,"Discount %"),n(),i(36,"th"),o(37,"Max Uses"),n(),i(38,"th"),o(39,"Used Count"),n(),i(40,"th"),o(41,"Expires At"),n(),i(42,"th"),o(43,"Actions"),n()()(),i(44,"tbody"),g(45,Wt,16,5,"tr",14),n()()()()),e&2&&(l(4),f(r.editingDiscount?"\u0E41\u0E01\u0E49\u0E44\u0E02\u0E42\u0E04\u0E49\u0E14\u0E2A\u0E48\u0E27\u0E19\u0E25\u0E14":"\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E42\u0E04\u0E49\u0E14\u0E2A\u0E48\u0E27\u0E19\u0E25\u0E14\u0E43\u0E2B\u0E21\u0E48"),l(2),O("ngModel",r.discountForm.code),l(4),O("ngModel",r.discountForm.discount_percent),l(4),O("ngModel",r.discountForm.max_uses),l(4),O("ngModel",r.discountForm.expires_at),l(4),s("ngIf",r.editingDiscount),l(),s("ngIf",r.editingDiscount),l(),s("ngIf",!r.editingDiscount),l(21),s("ngForOf",r.discounts))},dependencies:[M,B,x,L,A,de,T,Q,te],styles:['@charset "UTF-8";[_nghost-%COMP%]{font-family:Tahoma,sans-serif}.navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#b71c1c;color:#fff;padding:.5rem 5rem}.navbar-brand[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;margin-left:1.5rem;padding-bottom:5px;border-bottom:2px solid transparent;transition:border-color .3s}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border-color:#fff}.container[_ngcontent-%COMP%]{width:100%;height:100vh;padding:2rem;background-color:#fff;box-sizing:border-box}.table-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.table-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.75rem}.btn[_ngcontent-%COMP%]{border:none;color:#fff;padding:.6rem 1.8rem;border-radius:50px;font-size:1rem;font-weight:700;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 10px #0003}.btn-add[_ngcontent-%COMP%]{background-color:#0fc92b;color:#000}.btn-edit[_ngcontent-%COMP%]{background-color:#ffe100;color:#000}.btn-delete[_ngcontent-%COMP%]{background-color:#d00;color:#000}.card[_ngcontent-%COMP%]{background:#fff;margin:2rem;padding:1rem;border-radius:8px;box-shadow:0 2px 10px #0000000d}.games-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;text-align:left}.games-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .games-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #e0e0e0;vertical-align:middle}.games-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#757575;font-weight:700}.game-image[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover;border-radius:4px}.modal[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#0009}.modal.show[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.modal[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{display:block;width:100%;max-height:400px;object-fit:contain;border-radius:8px;margin-bottom:10px}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;padding:2rem;border-radius:8px;box-shadow:0 5px 15px #0000004d;width:90%;max-width:500px;position:relative}.close[_ngcontent-%COMP%]{color:#aaa;position:absolute;top:1rem;right:1.5rem;font-size:28px;font-weight:700;cursor:pointer}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:2rem}.form-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#2196f3}.form-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#9e9e9e}']})};function Ht(a,t){a&1&&(i(0,"span",15),o(1,"\u0E0B\u0E37\u0E49\u0E2D\u0E41\u0E25\u0E49\u0E27"),n())}function $t(a,t){if(a&1){let e=v();i(0,"div",9),m("click",function(){let c=E(e).$implicit,u=d();return _(u.goToGameDetails(c.id))}),p(1,"img",10),i(2,"div",11)(3,"span",12),o(4),P(5,"currency"),n()(),i(6,"div",13),o(7),n(),g(8,Ht,2,0,"span",14),n()}if(a&2){let e=t.$implicit,r=d();l(),s("src",r.getImageUrl(e.image),N)("alt",e.title),l(3),f(ue(5,5,e.price,"USD","symbol","1.2-2")),l(3),f(e.title),l(),s("ngIf",e.owned)}}function qt(a,t){a&1&&(i(0,"div",16)(1,"p"),o(2,"\u0E04\u0E38\u0E13\u0E22\u0E31\u0E07\u0E44\u0E21\u0E48\u0E44\u0E14\u0E49\u0E0B\u0E37\u0E49\u0E2D\u0E40\u0E01\u0E21\u0E43\u0E14"),n()())}var Ve=class a{http=G(z);router=G(S);library=[];filteredGames=[];searchText="";cart=[];ngOnInit(){this.loadLibrary()}loadLibrary(){return ce(this,null,function*(){try{let t=yield qe(this.http.get(`${F.apiUrl}/library`,this.getHeaders()));this.library=t.map(e=>$e(he({},e),{owned:e.owned||!1})),this.filteredGames=[...this.library]}catch(t){console.error(t),this.library=[],this.filteredGames=[]}})}filterGames(){let t=this.searchText.toLowerCase();this.filteredGames=this.library.filter(e=>e.title.toLowerCase().includes(t))}goToGameDetails(t){this.router.navigate(["/gamelibary",t])}getHeaders(){let t=localStorage.getItem("token");return{headers:new J({Authorization:`Bearer ${t}`})}}getImageUrl(t){return t?`https://gamekek.onrender.com/uploads/games/${t}`:"assets/no-image.png"}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=b({type:a,selectors:[["app-library"]],decls:11,vars:3,consts:[[1,"store-container"],[1,"search-bar"],[1,"store-title"],[1,"search-input-container"],[1,"fas","fa-search","search-icon"],["type","text","placeholder","\u0E04\u0E49\u0E19\u0E2B\u0E32\u0E40\u0E01\u0E21...",3,"ngModelChange","input","ngModel"],[1,"game-grid"],["class","game-card",3,"click",4,"ngFor","ngForOf"],["class","empty-library",4,"ngIf"],[1,"game-card",3,"click"],[3,"src","alt"],[1,"overlay"],[1,"price"],[1,"game-title"],["class","purchased-label",4,"ngIf"],[1,"purchased-label"],[1,"empty-library"]],template:function(e,r){e&1&&(p(0,"app-user-toolbar"),i(1,"div",0)(2,"div",1)(3,"h2",2),o(4,"\u0E04\u0E25\u0E31\u0E07\u0E40\u0E01\u0E21\u0E02\u0E2D\u0E07\u0E04\u0E38\u0E13"),n(),i(5,"div",3),p(6,"i",4),i(7,"input",5),w("ngModelChange",function(u){return y(r.searchText,u)||(r.searchText=u),u}),m("input",function(){return r.filterGames()}),n()()(),i(8,"div",6),g(9,$t,9,10,"div",7),n(),g(10,qt,3,0,"div",8),n()),e&2&&(l(7),O("ngModel",r.searchText),l(2),s("ngForOf",r.filteredGames),l(),s("ngIf",r.filteredGames.length===0))},dependencies:[M,B,x,L,A,T,Q,j,ee,me],styles:['@charset "UTF-8";.store-container[_ngcontent-%COMP%]{width:100vw;margin:20;padding:2rem 0}.store-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;margin:20px 20rem}.store-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .store-title[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:700;color:#fff;white-space:nowrap}.store-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;flex:1}.store-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;font-size:1.25rem;color:#555;pointer-events:none}.store-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .store-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-size:1rem;border-radius:50px;border:none;background-color:#e0e0e0;color:#333}.store-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding-left:3rem}.store-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#555}.store-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none}.store-container[_ngcontent-%COMP%]   .game-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);gap:1.5rem;padding:0 10rem}.store-container[_ngcontent-%COMP%]   .game-grid[_ngcontent-%COMP%]   .game-card[_ngcontent-%COMP%]{position:relative;cursor:pointer;border-radius:8px;overflow:hidden;transition:transform .2s;box-shadow:0 2px 10px #0000001a}.store-container[_ngcontent-%COMP%]   .game-grid[_ngcontent-%COMP%]   .game-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.store-container[_ngcontent-%COMP%]   .game-grid[_ngcontent-%COMP%]   .game-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;display:block}.store-container[_ngcontent-%COMP%]   .game-grid[_ngcontent-%COMP%]   .game-card[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;background:#0000001f;color:#fff;text-align:center;padding:.3rem 0;font-weight:700}.store-container[_ngcontent-%COMP%]   .game-grid[_ngcontent-%COMP%]   .game-card[_ngcontent-%COMP%]   .game-title[_ngcontent-%COMP%]{padding:.5rem;text-align:center;font-weight:700}@media (max-width: 1200px){.store-container[_ngcontent-%COMP%]   .game-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (max-width: 992px){.store-container[_ngcontent-%COMP%]   .game-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 768px){.store-container[_ngcontent-%COMP%]   .game-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 576px){.store-container[_ngcontent-%COMP%]   .game-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})};function Yt(a,t){a&1&&(i(0,"span",15),o(1,"\u0E40\u0E01\u0E21\u0E19\u0E35\u0E49\u0E04\u0E38\u0E13\u0E0B\u0E37\u0E49\u0E2D\u0E41\u0E25\u0E49\u0E27"),n())}function Jt(a,t){if(a&1){let e=v();i(0,"div",1)(1,"h1",2)(2,"span",3),m("click",function(){E(e);let c=d();return _(c.goBack())}),o(3,"\u2190"),n(),o(4," Game Detail "),n(),i(5,"div",4)(6,"div",5)(7,"h2"),o(8),n(),p(9,"img",6),i(10,"div",7)(11,"p"),o(12),n(),i(13,"p"),o(14),P(15,"date"),n(),i(16,"p"),o(17),n()()(),i(18,"div",8)(19,"h1",9),o(20),n(),i(21,"p",10),o(22),n(),i(23,"div",11)(24,"span",12),o(25,"\u0E40\u0E1B\u0E47\u0E19\u0E40\u0E08\u0E49\u0E32\u0E02\u0E2D\u0E07\u0E41\u0E25\u0E49\u0E27"),n(),i(26,"button",13),o(27,"\u0E14\u0E39\u0E2B\u0E19\u0E49\u0E32\u0E23\u0E49\u0E32\u0E19\u0E04\u0E49\u0E32"),n(),g(28,Yt,2,0,"span",14),n()()()()}if(a&2){let e=d();l(8),f(e.gameData==null?null:e.gameData.title),l(),s("alt",be(e.gameData==null?null:e.gameData.title))("src",e.gameData==null?null:e.gameData.image_url,N),l(3),C("\u0E41\u0E19\u0E27: ",e.gameData==null?null:e.gameData.category_name),l(2),C("\u0E27\u0E31\u0E19\u0E27\u0E32\u0E07\u0E08\u0E33\u0E2B\u0E19\u0E48\u0E32\u0E22: ",V(15,10,e.gameData==null?null:e.gameData.release_date,"longDate")),l(3),C("\u0E2D\u0E31\u0E19\u0E14\u0E31\u0E1A: ",e.gameData==null?null:e.gameData.rank),l(3),f(e.gameData==null?null:e.gameData.title),l(2),f(e.gameData==null?null:e.gameData.description),l(6),s("ngIf",e.isPurchased)}}var Be=class a{gameData=null;isPurchased=!1;cartService=G(Pe);libraryService=G(fe);location=G(Ce);route=G(Me);gameService=G(ne);router=G(S);ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));t&&(this.isPurchased=this.libraryService.isGamePurchased(t),this.gameService.getGame(t).subscribe({next:e=>{this.gameData=e,!this.isPurchased&&this.router.url.startsWith("/library")&&this.router.navigate(["/game",t])},error:e=>{console.error("\u0E44\u0E21\u0E48\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E42\u0E2B\u0E25\u0E14\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E40\u0E01\u0E21\u0E44\u0E14\u0E49",e)}}))}goBack(){this.location.back()}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=b({type:a,selectors:[["app-game-library"]],decls:2,vars:1,consts:[["class","game-detail-container",4,"ngIf"],[1,"game-detail-container"],[1,"page-title"],[1,"back-arrow",3,"click"],[1,"game-detail-content"],[1,"left"],[3,"src","alt"],[1,"meta"],[1,"right"],[1,"title"],[1,"description"],[1,"bottom"],[1,"price"],["routerLink","/game",1,"buy-btn"],["class","purchased-label",4,"ngIf"],[1,"purchased-label"]],template:function(e,r){e&1&&(p(0,"app-user-toolbar"),g(1,Jt,29,13,"div",0)),e&2&&(l(),s("ngIf",r.gameData))},dependencies:[ee,M,x,Y],styles:[".game-detail-container[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:0 2rem;color:#fff;grid-template-columns:2fr 3fr;gap:3rem}.game-detail-container[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:2rem;display:flex;align-items:center}.game-detail-container[_ngcontent-%COMP%]   .game-detail-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr;gap:3rem}.left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;aspect-ratio:16/9;border-radius:12px;object-fit:cover;margin-bottom:1.5rem}.left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#a0a0a0;margin:.5rem 0}.right[_ngcontent-%COMP%]{display:flex;flex-direction:column}.right[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:4rem;font-weight:700;text-transform:lowercase;margin-bottom:1.5rem}.right[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{background-color:#121212;border:1px solid #333;border-radius:12px;padding:1.5rem;font-size:1rem;line-height:1.6;color:#a0a0a0;flex-grow:1}.right[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:2rem;gap:2rem}.right[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;color:#e53935}.right[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .buy-btn[_ngcontent-%COMP%]{background-color:#ffdd40;color:#000;font-size:1.2rem;font-weight:700;padding:1rem 2.5rem;border:none;border-radius:8px;cursor:pointer;transition:transform .2s ease}.right[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .buy-btn[_ngcontent-%COMP%]:hover{transform:scale(1.05)}"]})};var Re=class a{constructor(t){this.http=t}apiUrl=`${F.apiUrl}/ranking`;getRankings(){let t=localStorage.getItem("token"),e=new J({Authorization:`Bearer ${t}`});return this.http.get(this.apiUrl,{headers:e})}static \u0275fac=function(e){return new(e||a)($(z))};static \u0275prov=U({token:a,factory:a.\u0275fac,providedIn:"root"})};function Qt(a,t){a&1&&(i(0,"div",6),o(1,"\u0E01\u0E33\u0E25\u0E31\u0E07\u0E42\u0E2B\u0E25\u0E14\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25..."),n())}function Xt(a,t){if(a&1&&(i(0,"div",7),o(1),n()),a&2){let e=d();l(),f(e.errorMessage)}}function Zt(a,t){if(a&1&&(i(0,"tr")(1,"td"),o(2),n(),i(3,"td"),o(4),n(),i(5,"td"),o(6),n(),i(7,"td"),o(8),P(9,"number"),n(),i(10,"td"),o(11),P(12,"number"),n()()),a&2){let e=t.$implicit,r=t.index;l(2),f(r+1),l(2),f(e.title),l(2),f(e.category_name),l(2),f(je(9,5,e.total_sales)),l(3),f(je(12,7,e.total_revenue))}}function en(a,t){if(a&1&&(i(0,"table",8)(1,"thead")(2,"tr")(3,"th"),o(4,"\u0E2D\u0E31\u0E19\u0E14\u0E31\u0E1A"),n(),i(5,"th"),o(6,"\u0E0A\u0E37\u0E48\u0E2D\u0E40\u0E01\u0E21"),n(),i(7,"th"),o(8,"\u0E2B\u0E21\u0E27\u0E14\u0E2B\u0E21\u0E39\u0E48"),n(),i(9,"th"),o(10,"\u0E22\u0E2D\u0E14\u0E02\u0E32\u0E22"),n(),i(11,"th"),o(12,"\u0E23\u0E32\u0E22\u0E44\u0E14\u0E49\u0E23\u0E27\u0E21 (\u0E3F)"),n()()(),i(13,"tbody"),g(14,Zt,13,9,"tr",9),n()()),a&2){let e=d();l(14),s("ngForOf",e.rankings)}}function tn(a,t){a&1&&(i(0,"div",10),o(1," \u0E44\u0E21\u0E48\u0E21\u0E35\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E08\u0E31\u0E14\u0E2D\u0E31\u0E19\u0E14\u0E31\u0E1A "),n())}var Ue=class a{constructor(t){this.rankingService=t}rankings=[];loading=!0;errorMessage="";ngOnInit(){this.loadRankings()}loadRankings(){this.rankingService.getRankings().subscribe({next:t=>{this.rankings=t,this.loading=!1},error:t=>{console.error("Error loading rankings",t),this.errorMessage="\u0E44\u0E21\u0E48\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E42\u0E2B\u0E25\u0E14\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E14\u0E49",this.loading=!1}})}static \u0275fac=function(e){return new(e||a)(h(Re))};static \u0275cmp=b({type:a,selectors:[["app-ranking"]],decls:9,vars:4,consts:[[1,"container"],[1,"card","ranking-section"],["class","loading-text",4,"ngIf"],["class","error-text",4,"ngIf"],["class","games-table",4,"ngIf"],["class","no-data",4,"ngIf"],[1,"loading-text"],[1,"error-text"],[1,"games-table"],[4,"ngFor","ngForOf"],[1,"no-data"]],template:function(e,r){e&1&&(p(0,"app-admin-navbar"),i(1,"div",0)(2,"div",1)(3,"h3"),o(4,"\u{1F3C6} \u0E08\u0E31\u0E14\u0E2D\u0E31\u0E19\u0E14\u0E31\u0E1A\u0E40\u0E01\u0E21\u0E02\u0E32\u0E22\u0E14\u0E35"),n(),g(5,Qt,2,0,"div",2)(6,Xt,2,1,"div",3)(7,en,15,1,"table",4)(8,tn,2,0,"div",5),n()()),e&2&&(l(5),s("ngIf",r.loading),l(),s("ngIf",r.errorMessage),l(),s("ngIf",!r.loading&&r.rankings.length>0),l(),s("ngIf",!r.loading&&r.rankings.length===0))},dependencies:[M,B,x,te,se],styles:['@charset "UTF-8";[_nghost-%COMP%]{font-family:Tahoma,sans-serif}.navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#b71c1c;color:#fff;padding:.5rem 5rem}.navbar-brand[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;margin-left:1.5rem;padding-bottom:5px;border-bottom:2px solid transparent;transition:border-color .3s}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border-color:#fff}.container[_ngcontent-%COMP%]{width:100%;height:100vh;padding:2rem;background-color:#fff;box-sizing:border-box}.table-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.table-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.75rem}.btn[_ngcontent-%COMP%]{border:none;color:#fff;padding:.6rem 1.8rem;border-radius:50px;font-size:1rem;font-weight:700;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 10px #0003}.btn-add[_ngcontent-%COMP%]{background-color:#0fc92b;color:#000}.btn-edit[_ngcontent-%COMP%]{background-color:#ffe100;color:#000}.btn-delete[_ngcontent-%COMP%]{background-color:#d00;color:#000}.card[_ngcontent-%COMP%]{background:#fff;margin:2rem;padding:1rem;border-radius:8px;box-shadow:0 2px 10px #0000000d}.games-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;text-align:left}.games-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .games-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #e0e0e0;vertical-align:middle}.games-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#757575;font-weight:700}.game-image[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover;border-radius:4px}.modal[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#0009}.modal.show[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.modal[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{display:block;width:100%;max-height:400px;object-fit:contain;border-radius:8px;margin-bottom:10px}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;padding:2rem;border-radius:8px;box-shadow:0 5px 15px #0000004d;width:90%;max-width:500px;position:relative}.close[_ngcontent-%COMP%]{color:#aaa;position:absolute;top:1rem;right:1.5rem;font-size:28px;font-weight:700;cursor:pointer}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:2rem}.form-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#2196f3}.form-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#9e9e9e}']})};var at=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"register",component:ye},{path:"login",component:we},{path:"profile",component:Se,canActivate:[Ie]},{path:"admin/login",component:ke},{path:"admin/dashboard",component:Ae,canActivate:[De]},{path:"discounts",component:Ne},{path:"purchase",component:ot},{path:"store-main",component:Te},{path:"library",component:Ve},{path:"gamelibary/:id",component:Be},{path:"game/:id",component:Fe},{path:"ranking",component:Ue},{path:"transactions",component:Ge},{path:"purchase",loadComponent:()=>import("./chunk-UNOGNCOX.js").then(a=>a.PurchaseGameComponent)}];Ke(Oe,{providers:[Ze(at,et()),Je(I)]}).catch(a=>console.error(a));
