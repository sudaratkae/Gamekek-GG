<app-user-toolbar></app-user-toolbar>

<div class="game-detail-container" *ngIf="gameData">
  <h1 class="page-title">
    <span class="back-arrow" (click)="goBack()">←</span>
    Game Detail
  </h1>

  <div class="game-detail-content">
    <div class="left">
      <h2>{{ gameData?.title }}</h2>
      <img [src]="gameData?.image_url" alt="{{ gameData?.title }}" />

      <div class="meta">
        <p>แนว: {{ gameData?.category_name }}</p>
        <p>วันวางจำหน่าย: {{ gameData?.release_date | date : "longDate" }}</p>
        <p>อันดับ: {{ gameData?.rank }}</p>
      </div>
    </div>

    <div class="right">
      <h1 class="title">{{ gameData?.title }}</h1>
      <p class="description">{{ gameData?.description }}</p>

      <div class="bottom">
        <span class="price">{{ gameData?.price }}฿</span>

        <!-- ปุ่มซื้อแสดงเฉพาะเกมที่ยังไม่ได้ซื้อ -->
        <button class="buy-btn" *ngIf="!isPurchased" (click)="addToCart()">
          หยิบใส่รถเข็น
        </button>

        <!-- ข้อความบอกว่าเกมซื้อแล้ว -->
        <span *ngIf="isPurchased" class="purchased-label"
          >เกมนี้คุณซื้อแล้ว</span
        >
      </div>
    </div>
  </div>
</div>
