<div class="register-wrapper">
  <div class="register-card">
    <!-- ‡∏ù‡∏±‡πà‡∏á‡∏ã‡πâ‡∏≤‡∏¢: ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏™‡∏°‡∏±‡∏Ñ‡∏£ -->
    <div class="register-left">
      <h1>‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</h1>

      <form [formGroup]="form" (ngSubmit)="submit()">
        <!-- üìå ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå -->
       <div class="profile-image-container">
  <input type="file" id="profileImage" (change)="onFileChange($event)">
  <label for="profileImage">
    <img [src]="previewImage || 'assets/default-avatar.png'" class="profile-image">
  </label>
</div>

        <div>
          <label>Username</label>
          <input formControlName="username" />
          <div *ngIf="form.get('username')?.touched && form.get('username')?.invalid" class="error">
            Username is required
          </div>
        </div>

        <div>
          <label>Email</label>
          <input formControlName="email" type="email" />
          <div *ngIf="form.get('email')?.touched && form.get('email')?.invalid" class="error">
            Valid email is required
          </div>
        </div>

        <div>
          <label>Password</label>
          <input formControlName="password" type="password" />
          <div *ngIf="form.get('password')?.touched && form.get('password')?.invalid" class="error">
            Password must be at least 6 characters
          </div>
        </div>

        <div>
          <label>Confirm Password</label>
          <input formControlName="confirmPassword" type="password" />
          <div *ngIf="form.hasError('mismatch') && form.get('confirmPassword')?.touched" class="error">
            Passwords do not match
          </div>
        </div>

        <div *ngIf="error" class="error">{{ error }}</div>

        <button type="submit">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</button>
      </form>

      <p>‡∏°‡∏µ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÅ‡∏•‡πâ‡∏ß?
        <button (click)="goToLogin()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
      </p>
    </div>

    <!-- ‡∏ù‡∏±‡πà‡∏á‡∏Ç‡∏ß‡∏≤: ‡∏£‡∏π‡∏õ -->
    <div class="register-right">
      <img src="assets/logo2.png" alt="Logo" />
    </div>
  </div>

  <!-- ‡∏õ‡πä‡∏≠‡∏õ‡∏≠‡∏±‡∏û‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à -->
  <div *ngIf="successPopup" class="popup">
    <p>‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!</p>
    <button (click)="goToLogin()">‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
  </div>
</div>
